(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16015,(e,t,a)=>{},98547,(e,t,a)=>{var s=e.i(47167);e.r(16015);var n=e.r(71645),r=n&&"object"==typeof n&&"default"in n?n:{default:n},i=void 0!==s.default&&s.default.env&&!0,o=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,a=t.name,s=void 0===a?"stylesheet":a,n=t.optimizeForSpeed,r=void 0===n?i:n;d(o(s),"`name` must be a string"),this._name=s,this._deletedRulePlaceholder="#"+s+"-deleted-rule____{}",d("boolean"==typeof r,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=r,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t,a=e.prototype;return a.setOptimizeForSpeed=function(e){d("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),d(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},a.isOptimizeForSpeed=function(){return this._optimizeForSpeed},a.inject=function(){var e=this;if(d(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(i||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,a){return"number"==typeof a?e._serverSheet.cssRules[a]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),a},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},a.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},a.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},a.insertRule=function(e,t){if(d(o(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var a=this.getSheet();"number"!=typeof t&&(t=a.cssRules.length);try{a.insertRule(e,t)}catch(t){return i||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var s=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,s))}return this._rulesCount++},a.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var a="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!a.cssRules[e])return e;a.deleteRule(e);try{a.insertRule(t,e)}catch(s){i||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),a.insertRule(this._deletedRulePlaceholder,e)}}else{var s=this._tags[e];d(s,"old rule at index `"+e+"` not found"),s.textContent=t}return e},a.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];d(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},a.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},a.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,a){return a?t=t.concat(Array.prototype.map.call(e.getSheetForTag(a).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},a.makeStyleTag=function(e,t,a){t&&d(o(t),"makeStyleTag accepts only strings as second parameter");var s=document.createElement("style");this._nonce&&s.setAttribute("nonce",this._nonce),s.type="text/css",s.setAttribute("data-"+e,""),t&&s.appendChild(document.createTextNode(t));var n=document.head||document.getElementsByTagName("head")[0];return a?n.insertBefore(s,a):n.appendChild(s),s},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(e.prototype,t),e}();function d(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,a=e.length;a;)t=33*t^e.charCodeAt(--a);return t>>>0},h={};function u(e,t){if(!t)return"jsx-"+e;var a=String(t),s=e+a;return h[s]||(h[s]="jsx-"+c(e+"-"+a)),h[s]}function f(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var a=e+t;return h[a]||(h[a]=t.replace(/__jsx-style-dynamic-selector/g,e)),h[a]}var p=function(){function e(e){var t=void 0===e?{}:e,a=t.styleSheet,s=void 0===a?null:a,n=t.optimizeForSpeed,r=void 0!==n&&n;this._sheet=s||new l({name:"styled-jsx",optimizeForSpeed:r}),this._sheet.inject(),s&&"boolean"==typeof r&&(this._sheet.setOptimizeForSpeed(r),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var a=this.getIdAndRules(e),s=a.styleId,n=a.rules;if(s in this._instancesCounts){this._instancesCounts[s]+=1;return}var r=n.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[s]=r,this._instancesCounts[s]=1},t.remove=function(e){var t=this,a=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(a in this._instancesCounts,"styleId: `"+a+"` not found"),this._instancesCounts[a]-=1,this._instancesCounts[a]<1){var s=this._fromServer&&this._fromServer[a];s?(s.parentNode.removeChild(s),delete this._fromServer[a]):(this._indices[a].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[a]),delete this._instancesCounts[a]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],a=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return a[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,a;return t=this.cssRules(),void 0===(a=e)&&(a={}),t.map(function(e){var t=e[0],s=e[1];return r.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:a.nonce?a.nonce:void 0,dangerouslySetInnerHTML:{__html:s}})})},t.getIdAndRules=function(e){var t=e.children,a=e.dynamic,s=e.id;if(a){var n=u(s,a);return{styleId:n,rules:Array.isArray(t)?t.map(function(e){return f(n,e)}):[f(n,t)]}}return{styleId:u(s),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),x=n.createContext(null);function m(){return new p}function y(){return n.useContext(x)}x.displayName="StyleSheetContext";var b=r.default.useInsertionEffect||r.default.useLayoutEffect,g="undefined"!=typeof window?m():void 0;function v(e){var t=g||y();return t&&("undefined"==typeof window?t.add(e):b(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}v.dynamic=function(e){return e.map(function(e){return u(e[0],e[1])}).join(" ")},a.StyleRegistry=function(e){var t=e.registry,a=e.children,s=n.useContext(x),i=n.useState(function(){return s||t||m()})[0];return r.default.createElement(x.Provider,{value:i},a)},a.createStyleRegistry=m,a.style=v,a.useStyleRegistry=y},37902,(e,t,a)=>{t.exports=e.r(98547).style},31713,e=>{"use strict";var t=e.i(43476),a=e.i(37902),s=e.i(71645);let n=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},r=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:o="",children:l,iconNode:d,...c},h)=>(0,s.createElement)("svg",{ref:h,...i,width:t,height:t,stroke:e,strokeWidth:n?24*Number(a)/Number(t):a,className:r("lucide",o),...!l&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(c)&&{"aria-hidden":"true"},...c},[...d.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(l)?l:[l]])),l=(e,t)=>{let a=(0,s.forwardRef)(({className:a,...i},l)=>(0,s.createElement)(o,{ref:l,iconNode:t,className:r(`lucide-${n(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,a),...i}));return a.displayName=n(e),a},d=l("cloud-rain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]),c=l("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),h=l("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),u=l("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),f=l("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),p=l("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]),x=l("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),m=l("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),y=l("pen-tool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),b=l("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),g=l("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),v={commute:"/mentalnovel/bg/scene1.png",classroom:"/mentalnovel/bg/scene2.png",meclassroom:"/mentalnovel/bg/scene3.png",grayscale_storm:"/mentalnovel/bg/bad_ending.png",corridor:"/mentalnovel/bg/scene4.png",warm_sunset:"/mentalnovel/bg/good_ending.png",neutral_rain:"/mentalnovel/bg/neutral.png"},k="",w="",j="/mentalnovel/bg/lena.png",_={default:"/mentalnovel/audio/bgm.mp3",scene2:"/mentalnovel/audio/scene2.mp3",scene3:"/mentalnovel/audio/scene3.mp3",scene4:"/mentalnovel/audio/scene4.mp3",good:"/mentalnovel/audio/good_ending.mp3",neutral:"/mentalnovel/audio/neutral_ending.mp3",bad:"/mentalnovel/audio/bad_ending.mp3",scene1:"/mentalnovel/audio/oldtrain.mp3"},S={act1_commute:{id:"act1_commute",title:"Act 1: The Mask",backgroundStyle:"commute",characterVisible:null,musicTrack:"scene1",dialogueSequence:[{speaker:"Observation",text:"7:45 AM. The train rattles over the tracks, a rhythmic, mechanical heartbeat."},{speaker:"Observation",text:"Shoulders brush against shoulders. Everyone is lost in their own world."},{speaker:"You",text:"Headphones on. No music playing. Just a barrier against the noise."},{speaker:"Observation",text:"You catch a glimpse of yourself in the dark glass of the window."},{speaker:"You",text:"That person looks calm. Capable. Professional. That's who I need to be today."},{speaker:"Observation",text:"But the reflection doesn't show the static buzzing in your head."},{speaker:"You",text:"The checklist... I need to review it again. Just once more."},{speaker:"You",text:"10:00 AM: The Presentation. Don't stutter. Don't freeze."},{speaker:"You",text:"12:30 PM: Help Mark. He looked so stressed yesterday... I can't say no."},{speaker:"You",text:"5:00 PM: The Quarterly Report. It has to be perfect. 'Good enough' isn't an option."},{speaker:"Observation",text:"A familiar weight settles in your chest. Invisible, but heavy."},{speaker:"You",text:"Fix the collar. Smooth the shirt. Stop the hands from trembling."},{speaker:"Observation",text:"You are the 'Reliable One'. That is the role. You have to handle it all."}],innerSource:"Inner Monologue",innerText:"I’m already exhausted and the day hasn't even started. If I drop just one ball, this whole act falls apart. They think I'm strong; they don't know I'm barely holding on.",choices:[{id:"1a",text:"Push it away. No time for weakness.",followUpText:"You clench your jaw until it aches. You shove the feeling down into the pit of your stomach. It's quiet now, but heavy.",nextSceneId:"act2_prep",impact:{resilience:-1,anxiety:2}},{id:"1b",text:"Breathe. Acknowledge the anxiety.",followUpText:"You close your eyes for a second. You name the feeling: 'Fear'. You don't fight it, you just let it sit there. It feels a tiny bit lighter.",nextSceneId:"act2_prep",impact:{resilience:2,anxiety:-1}},{id:"1c",text:"Compare yourself to others.",followUpText:"You look at the woman reading a book. The man sleeping. Why does everyone else seem to have it together? What is wrong with you?",nextSceneId:"act2_prep",impact:{resilience:-1,anxiety:2}}]},act2_prep:{id:"act2_prep",title:"Act 2: Cracks in the Shell",backgroundStyle:"classroom",characterVisible:"jordan",musicTrack:"scene2",dialogueSequence:[{speaker:"Observation",text:"You arrive at the classroom early. The air smells like whiteboard markers and stale coffee."},{speaker:"Observation",text:"Most people are quietly scrolling on their phones, waiting for the lecture to start."},{speaker:"Observation",text:"Except for him. Jordan."},{speaker:"You",text:"He's at the front of the room, leaning casually against the professor's desk."},{speaker:"Observation",text:"He cracks a joke. The professor laughs. The students nearby chuckle."},{speaker:"You",text:"Look at him. He owns the room. No script, no cue cards, just natural charisma."},{speaker:"You",text:"He makes it look so easy. Why is it like pulling teeth for me?"},{speaker:"Observation",text:"He glances at his watch, smiles, and adjusts his notes. He looks completely unbothered."},{speaker:"You",text:"He's going to ace this without even trying. Meanwhile, I'm over here trying to remember how to breathe."}],innerSource:"System Detect // Jordan",innerText:"Jordan's Thoughts: 'I rehearsed every sentence 20 times last night in the mirror. My hands are shaking under the desk. Please don't let them see how scared I am of failing.'",choices:[{id:"2a",text:"Maybe I’m not the only one struggling.",followUpText:"You watch his hand twitch slightly as he holds his paper. A realization hits you: Is his confidence a mask too?",nextSceneId:"act3_storm",impact:{resilience:2,anxiety:-1}},{id:"2b",text:"He's just being modest. He's better than me.",followUpText:"You shrink in your seat. Of course he's fine. He's Jordan. You're just... you.",nextSceneId:"act3_storm",impact:{resilience:-1,anxiety:2}},{id:"2c",text:"I wish I had his courage.",followUpText:"You stare at him with a mix of admiration and bitter envy. If only you could borrow just an ounce of that ease.",nextSceneId:"act3_storm",impact:{resilience:-1,anxiety:1}}]},act3_storm:{id:"act3_storm",title:"Act 3: The Breaking Point",backgroundStyle:"meclassroom",characterVisible:"jordan",musicTrack:"scene3",dialogueSequence:[{speaker:"Observation",text:"Your name is called. The sound of your chair scraping the floor echoes in the silent room."},{speaker:"You",text:"Okay. Showtime. Just read the slides. Stick to the script."},{speaker:"You",text:"'Our research indicates a strong correlation between variable A and...'"},{speaker:"Observation",text:"So far, so good. Your voice is steady. You're doing it."},{speaker:"You",text:"'However, the variables suggests... wait. Suggest. The data...'"},{speaker:"Observation",text:"A glitch. A tiny stumble. But in your head, it sounds like a car crash."},{speaker:"You",text:"I... uh... what was I saying? The graph shows..."},{speaker:"Observation",text:"Blank. White noise. The script in your head has vanished."},{speaker:"Observation",text:"The silence stretches. One second. Two seconds. An eternity."},{speaker:"You",text:"They're staring. Everyone is staring. Jordan is staring."},{speaker:"Observation",text:"Heat rushes to your face. The room feels suddenly, violently small."}],innerSource:"Internal Storm",innerText:"You're embarrassing yourself. Everyone sees it. The mask has slipped. You're a fraud. You're failing. You're failing. You're failing.",choices:[{id:"3a",text:"Tell yourself: 'I ruined everything.'",followUpText:"The shame burns hot. You finish the presentation in a blur, your voice flat and dead. You sit down, wishing the floor would swallow you.",nextSceneId:"act4_friend",impact:{resilience:-2,anxiety:3}},{id:"3b",text:"Tell yourself: 'It’s okay. Humans slip.'",followUpText:"You pause. You take a sip of water. You look up and smile apologetically. 'Sorry, lost my train of thought.' You continue.",nextSceneId:"act4_friend",impact:{resilience:3,anxiety:-1}},{id:"3c",text:"Focus. Force yourself to continue.",followUpText:"You grit your teeth and push through the rest, reading the slides robotically. You survive, but you don't feel present.",nextSceneId:"act4_friend",impact:{resilience:0,anxiety:0}}]},act4_friend:{id:"act4_friend",title:"Act 4: Seeing Beyond",backgroundStyle:"corridor",characterVisible:"lena",musicTrack:"scene4",dialogueSequence:[{speaker:"Observation",text:"Class is finally over. The adrenaline crash hits you like a physical weight."},{speaker:"You",text:"I just need to pack up. Get out. Disappear before anyone says anything."},{speaker:"Observation",text:"Jordan walks past your desk and stopped you at the window. You flinch, expecting a smirk."},{speaker:"Jordan",text:"*Nods quietly* 'Hey. Tough prompt today. You handled the Q&A well, though.'"},{speaker:"You",text:"Wait... what? He thought I did well? Or is he just being nice?"},{speaker:"Observation",text:"Before you can process that, Lena approaches. She isn't smiling."},{speaker:"Observation",text:"She stops in front of you, tilting her head slightly. Examining you."},{speaker:"Lena",text:"Hey. I've been watching you all week."},{speaker:"You",text:"Here it comes. She noticed. She knows I'm a mess."},{speaker:"Lena",text:"You okay? You seem... really far away lately. Like you're carrying the whole world."}],innerSource:"System Detect // Lena",innerText:"Lena's Thoughts: 'I’m not sure how to help, but I hope they know they don’t have to carry everything alone. I miss seeing them actually smile. Please let me in.'",choices:[{id:"4a",text:"Say: 'I'm fine. Just busy.'",followUpText:"You force a smile. It feels tight. Lena looks disappointed, but nods. You put the mask back on, heavier than before.",nextSceneId:"CALCULATE_ENDING",impact:{resilience:-1,anxiety:2}},{id:"4b",text:"Say: 'I don't know, honestly.'",followUpText:"The words tumble out before you can stop them. It's terrifying, but Lena's face softens instantly. It feels like setting down a heavy bag.",nextSceneId:"CALCULATE_ENDING",impact:{resilience:0,anxiety:-1}},{id:"4c",text:"Say: 'It's hard to explain right now.'",followUpText:"You don't reveal everything, but you don't lie either. Lena squeezes your arm. 'I'm here when you're ready,' she says.",nextSceneId:"CALCULATE_ENDING",impact:{resilience:1,anxiety:0}}]},ending_good:{id:"ending_good",title:"Ending: More Than Performance",backgroundStyle:"warm_sunset",characterVisible:null,musicTrack:"good",isEnding:!0,dialogueSequence:[{speaker:"Observation",text:"You step outside. The rain has stopped. The late afternoon sun is breaking through the clouds."},{speaker:"You",text:"I told her. I actually told her I wasn't okay."},{speaker:"Observation",text:"And the sky didn't fall. The world didn't end. In fact, it feels a little bit brighter."},{speaker:"You",text:"Jordan was scared too. Lena was worried, not judging."},{speaker:"Observation",text:"The weight is still there on your shoulders, but it feels... lighter. Shared."},{speaker:"You",text:"I don't have to be a machine. I don't have to be perfect to be worthy of love."},{speaker:"You",text:"I'm just a person. And that is enough."}],innerSource:"Realization",innerText:"Connection brings safety. I can allow myself to be human. You don’t have to shine to be worthy of the sky.",choices:[],lesson:{title:"A softer definition of strength",message:"Self-worth isn’t a reward for perfect performance. It’s something you’re allowed to carry even on imperfect days.",action:"Name one thing you did today that was brave — even if it was small."}},ending_neutral:{id:"ending_neutral",title:"Ending: Still Learning",backgroundStyle:"neutral_rain",characterVisible:null,musicTrack:"neutral",isEnding:!0,dialogueSequence:[{speaker:"Observation",text:"The day ends. The rain continues to drum rhythmically against the window pane."},{speaker:"You",text:"It wasn't a perfect day. I stumbled. I struggled."},{speaker:"Observation",text:"You look at your checklist. Not everything is crossed off. That used to terrify you."},{speaker:"You",text:"But I'm still here. I survived the moment I thought would break me."},{speaker:"Observation",text:"You aren't 'fixed'. The anxiety is still buzzing in the background. But you are aware of it now."},{speaker:"You",text:"That is the first step. Maybe tomorrow will be better. Maybe not. But I'll show up for it."}],innerSource:"Reflection",innerText:"Life is heavy. But I'm trying. Maybe healing isn’t dramatic. Maybe it’s just learning to stay.",choices:[],lesson:{title:"Progress counts even when it’s quiet",message:"Healing isn’t a switch. Sometimes it’s just choosing not to abandon yourself.",action:"Replace one harsh thought with a neutral one: 'I’m failing' → 'I’m learning.'"}},ending_bad:{id:"ending_bad",title:"Ending: The Mask Hardens",backgroundStyle:"grayscale_storm",characterVisible:null,musicTrack:"bad",isEnding:!0,dialogueSequence:[{speaker:"Observation",text:"You go home and lock your bedroom door immediately. You don't turn on the lights."},{speaker:"You",text:"Why did I say that? Why was I so weak?"},{speaker:"Observation",text:"You sit in the dark, replaying the stutter in your head. Over and over. A loop of failure."},{speaker:"You",text:"They all saw. They all know now. I'm a fraud."},{speaker:"You",text:"I have to be better. Stronger. Cold. No more slips."},{speaker:"Observation",text:"You open your notebook and write a new checklist. Longer. Harder. Impossible."},{speaker:"You",text:"Next time, the armor will be flawless. No one will ever see me slip again."}],innerSource:"Internal Monologue",innerText:"Everyone else is better than me. I must not burden them. If only they knew how heavy this smile is.",choices:[],lesson:{title:"The mask protected you — but it’s heavy",message:"If you learned to survive by being strong, that makes sense. But you don’t have to carry it alone forever.",action:"Text one person: 'Hey, today was a lot. Can I talk for 5 minutes?'"}}},N=({trackKey:e})=>{let a=(0,s.useRef)(null),[n,r]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{if(a.current){let t=a.current.getAttribute("src"),s=_[e]||_.default;t!==s&&(a.current.src=s,n&&a.current.play().catch(e=>console.log(e)))}},[e,n]),(0,t.jsxs)("div",{className:"fixed top-4 right-4 z-50",children:[(0,t.jsxs)("button",{onClick:()=>{a.current&&(n?a.current.pause():(a.current.volume=.5,a.current.play().catch(e=>console.log(e))),r(!n))},className:"group flex items-center gap-3 px-4 py-2 bg-white border-2 border-black shadow-[4px_4px_0px_#000] rounded-sm hover:translate-y-[2px] hover:shadow-[2px_2px_0px_#000] transition-all",children:[(0,t.jsx)("span",{className:"text-xs font-bold tracking-widest text-black hidden md:block font-serif",children:n?"MUSIC ON":"MUSIC OFF"}),n?(0,t.jsx)(c,{size:16,className:"text-black animate-pulse"}):(0,t.jsx)(h,{size:16,className:"text-gray-400"})]}),(0,t.jsx)("audio",{ref:a,loop:!0,children:(0,t.jsx)("source",{src:_.default,type:"audio/mpeg"})})]})},T=({lesson:e,onClose:a})=>(0,t.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80  animate-in fade-in zoom-in duration-300 p-6",children:(0,t.jsxs)("div",{className:"relative w-full max-w-lg bg-[#fdfbf7] border-4 border-black shadow-[10px_10px_0px_#fff] p-8 md:p-12 rotate-1",children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-10 pointer-events-none bg-[url('https://www.transparenttextures.com/patterns/paper-fibers.png')]"}),(0,t.jsx)("button",{onClick:a,className:"absolute top-4 right-4 text-gray-500 hover:text-black hover:rotate-90 transition-all",children:(0,t.jsx)(g,{size:24})}),(0,t.jsxs)("div",{className:"flex flex-col items-center text-center space-y-6",children:[(0,t.jsx)("div",{className:"w-16 h-1 bg-black rounded-full mb-2"}),(0,t.jsx)("h2",{className:"text-2xl md:text-3xl font-bold font-serif text-gray-900 leading-tight",children:e.title}),(0,t.jsx)("div",{className:"w-full h-px bg-gray-300"}),(0,t.jsxs)("p",{className:"text-lg text-gray-700 font-serif italic",children:['"',e.message,'"']}),(0,t.jsxs)("div",{className:"bg-yellow-50 border-2 border-yellow-200 p-4 w-full rounded-sm",children:[(0,t.jsx)("span",{className:"text-xs font-bold tracking-widest text-yellow-800 uppercase block mb-2",children:"Try this (30s)"}),(0,t.jsx)("p",{className:"text-md font-medium text-gray-800",children:e.action})]}),(0,t.jsx)("button",{onClick:a,className:"mt-4 px-8 py-3 bg-black text-white font-bold tracking-widest hover:bg-gray-800 transition-all shadow-md",children:"RESTART STORY"})]})]})}),I=({onStart:e,isExiting:n})=>{let[r,i]=(0,s.useState)(!1),[o,l]=(0,s.useState)([]);return(0,s.useEffect)(()=>{i(!0),l(Array.from({length:15}).map((e,t)=>({id:t,left:`${100*Math.random()}%`,top:`${100*Math.random()}%`,delay:`${5*Math.random()}s`,duration:`${10+10*Math.random()}s`})))},[]),(0,t.jsxs)("div",{className:`jsx-dfd737fa043720b7 min-h-screen bg-[#e8e6e1] relative overflow-hidden font-sans flex items-center justify-center transition-all duration-1000 ${n?"opacity-0 scale-105":"opacity-100 scale-100"}`,children:[(0,t.jsx)(a.default,{id:"dfd737fa043720b7",children:'@import "https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@300;400&family=Crimson+Text:ital,wght@0,400;1,400&display=swap";@import "https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap";.notebook-bg.jsx-dfd737fa043720b7{background-color:#fdfbf7;background-image:linear-gradient(#e5e7eb 1px,#0000 1px);background-size:100% 2rem;box-shadow:0 1px 1px #00000026,0 10px 0 -5px #fff,0 10px 1px -4px #00000026,0 20px 0 -10px #fff,0 20px 1px -9px #00000026}@keyframes draw{0%{stroke-dashoffset:1000px}to{stroke-dashoffset:0}}@keyframes slideUpFade{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.animate-draw.jsx-dfd737fa043720b7{stroke-dasharray:1000;stroke-dashoffset:1000px;animation:2s ease-out forwards draw}.animate-slide-up.jsx-dfd737fa043720b7{opacity:0;animation:1s ease-out forwards slideUpFade}'}),(0,t.jsx)("div",{style:{backgroundImage:"radial-gradient(circle at center, transparent 0%, rgba(0,0,0,0.05) 100%), url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"},className:"jsx-dfd737fa043720b7 absolute inset-0 opacity-50 pointer-events-none"}),(0,t.jsx)("div",{className:`jsx-dfd737fa043720b7 relative z-10 w-full max-w-3xl mx-4 transition-all duration-1000 ease-out transform ${r?"opacity-100 translate-y-0 rotate-0":"opacity-0 translate-y-20 rotate-1"}`,children:(0,t.jsx)("div",{className:"jsx-dfd737fa043720b7 notebook-bg relative px-8 py-12 md:p-16 min-h-[700px] border-l-4 border-gray-200/50",children:(0,t.jsxs)("div",{className:"jsx-dfd737fa043720b7 relative pl-6",children:[(0,t.jsxs)("div",{style:{animationDelay:"0.2s"},className:"jsx-dfd737fa043720b7 flex justify-between items-end border-b-2 border-gray-200 pb-2 mb-12 animate-slide-up",children:[(0,t.jsx)("h1",{style:{fontFamily:"'Noto Serif JP', serif"},className:"jsx-dfd737fa043720b7 text-4xl md:text-5xl text-gray-800 font-light",children:"The Weight We Carry"}),(0,t.jsx)("div",{style:{fontFamily:"'Patrick Hand', cursive"},className:"jsx-dfd737fa043720b7 text-gray-400 text-sm font-handwriting hidden md:block",children:"Entry No. 01"})]}),(0,t.jsxs)("div",{className:`jsx-dfd737fa043720b7 relative w-full h-64 flex items-center justify-center mb-8 transition-all duration-1000 ${r?"blur-0":"blur-sm"}`,children:[(0,t.jsx)("div",{className:"jsx-dfd737fa043720b7 absolute inset-10 bg-white/40 transform -rotate-1 rounded-sm shadow-sm opacity-50"}),(0,t.jsx)("svg",{viewBox:"0 0 400 250",xmlns:"http://www.w3.org/2000/svg",className:"jsx-dfd737fa043720b7 relative w-full h-full z-10",children:(0,t.jsxs)("g",{stroke:"#2d2d2d",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-dfd737fa043720b7",children:[(0,t.jsxs)("g",{style:{animationDelay:"0.8s"},className:"jsx-dfd737fa043720b7 animate-draw",children:[(0,t.jsx)("rect",{x:"40",y:"180",width:"30",height:"8",rx:"1",className:"jsx-dfd737fa043720b7"}),(0,t.jsx)("rect",{x:"42",y:"172",width:"26",height:"8",rx:"1",className:"jsx-dfd737fa043720b7"}),(0,t.jsx)("rect",{x:"44",y:"164",width:"22",height:"8",rx:"1",className:"jsx-dfd737fa043720b7"})]}),(0,t.jsxs)("g",{style:{animationDelay:"1.8s"},className:"jsx-dfd737fa043720b7 animate-draw",children:[(0,t.jsx)("ellipse",{cx:"200",cy:"100",rx:"18",ry:"22",className:"jsx-dfd737fa043720b7"}),(0,t.jsx)("path",{d:"M 200 122 L 200 180",className:"jsx-dfd737fa043720b7"}),(0,t.jsx)("path",{d:"M 200 140 Q 180 145 175 180",className:"jsx-dfd737fa043720b7"}),(0,t.jsx)("path",{d:"M 200 140 Q 220 145 235 155",className:"jsx-dfd737fa043720b7"}),(0,t.jsx)("path",{d:"M 235 155 L 240 170",className:"jsx-dfd737fa043720b7"}),(0,t.jsx)("path",{d:"M 200 180 Q 190 190 185 210",className:"jsx-dfd737fa043720b7"}),(0,t.jsx)("path",{d:"M 200 180 Q 210 185 220 190",className:"jsx-dfd737fa043720b7"})]}),(0,t.jsxs)("g",{style:{animationDelay:"3.0s"},className:"jsx-dfd737fa043720b7 animate-draw",children:[(0,t.jsx)("path",{d:"M 310 60 Q 325 40 340 60 Q 350 60 350 70 Q 350 80 340 80 L 310 80 Q 300 80 300 70 Q 300 60 310 60",strokeDasharray:"2,2",opacity:"0.6",className:"jsx-dfd737fa043720b7"}),(0,t.jsx)("line",{x1:"315",y1:"85",x2:"315",y2:"100",opacity:"0.4",className:"jsx-dfd737fa043720b7"}),(0,t.jsx)("line",{x1:"325",y1:"90",x2:"325",y2:"110",opacity:"0.4",className:"jsx-dfd737fa043720b7"}),(0,t.jsx)("line",{x1:"335",y1:"85",x2:"335",y2:"100",opacity:"0.4",className:"jsx-dfd737fa043720b7"})]}),(0,t.jsxs)("g",{style:{animationDelay:"4.0s"},className:"jsx-dfd737fa043720b7 animate-draw",children:[(0,t.jsx)("path",{d:"M 160 195 L 160 210 Q 160 215 170 215 L 175 215 L 175 195",className:"jsx-dfd737fa043720b7"}),(0,t.jsx)("path",{d:"M 175 200 Q 182 200 182 205 Q 182 210 175 210",className:"jsx-dfd737fa043720b7"}),(0,t.jsx)("rect",{x:"260",y:"185",width:"35",height:"10",rx:"1",className:"jsx-dfd737fa043720b7"}),(0,t.jsx)("rect",{x:"258",y:"175",width:"32",height:"10",rx:"1",className:"jsx-dfd737fa043720b7"})]})]})})]}),(0,t.jsxs)("div",{className:"jsx-dfd737fa043720b7 space-y-8 text-center px-4 md:px-12 mb-16",children:[(0,t.jsx)("p",{style:{fontFamily:"'Crimson Text', serif",animationDelay:"5.0s"},className:"jsx-dfd737fa043720b7 text-xl md:text-2xl text-gray-700 leading-relaxed font-light italic animate-slide-up",children:'"Some mornings feel heavier than the bag on my shoulders..."'}),(0,t.jsx)("div",{style:{animationDelay:"5.5s"},className:"jsx-dfd737fa043720b7 flex justify-center animate-slide-up",children:(0,t.jsx)(d,{className:"text-gray-300 animate-pulse",size:24})}),(0,t.jsx)("div",{style:{animationDelay:"7.0s"},className:"jsx-dfd737fa043720b7 flex justify-center pb-8 animate-slide-up",children:(0,t.jsxs)("button",{onClick:e,className:"jsx-dfd737fa043720b7 group relative inline-flex items-center gap-4 px-8 py-4 bg-white text-gray-800 border-2 border-gray-800 transition-all duration-300 ease-out hover:-translate-y-2 hover:shadow-[4px_8px_0px_rgba(0,0,0,0.8)] active:translate-y-0 active:shadow-none",children:[(0,t.jsx)("span",{style:{fontFamily:"'Noto Serif JP', serif"},className:"jsx-dfd737fa043720b7 relative text-lg tracking-widest font-bold uppercase",children:"Turn The Page"}),(0,t.jsx)(x,{className:"transform group-hover:translate-x-1 transition-transform"})]})})]})]})})})]})},C=({scene:e,onChoice:n,onSceneTransition:r,isTransitioning:i})=>{let[o,l]=(0,s.useState)(!1),[d,c]=(0,s.useState)(!1),[h,x]=(0,s.useState)(0),[g,_]=(0,s.useState)(""),[S,N]=(0,s.useState)(!1),[I,C]=(0,s.useState)(!1),[Y,z]=(0,s.useState)(null),[A,M]=(0,s.useState)(null),[R,E]=(0,s.useState)(!1),O=e.isEnding||null!==Y&&e.innerText.length>0;(0,s.useEffect)(()=>{l(!1),c(!1),x(0),C(!1),z(null),M(null),_(""),E(!1);let e=setTimeout(()=>c(!0),200);return()=>clearTimeout(e)},[e.id]),(0,s.useEffect)(()=>{let t=Y||(e.dialogueSequence[h]?e.dialogueSequence[h].text:"");if(!t)return;_(""),N(!0);let a=0,s=setInterval(()=>{a++,_(t.slice(0,a)),a>=t.length&&(clearInterval(s),N(!1),!Y&&h>=e.dialogueSequence.length-1&&C(!0))},25);return()=>clearInterval(s)},[h,Y,e.dialogueSequence]);let F=v[e.backgroundStyle]||"",L=null;"jordan"===e.characterVisible&&(L=w),"lena"===e.characterVisible&&(L=j);let H=Y?"You":e.dialogueSequence[h]?.speaker||"...";return(0,t.jsxs)("div",{className:`jsx-f3dffe0b34be508f relative w-full h-screen overflow-hidden font-sans bg-gray-100 text-gray-900 select-none transition-all duration-700 ease-in-out ${i?"opacity-0 scale-105 filter blur-sm":"opacity-100 scale-100 filter blur-0"}`,children:[(0,t.jsx)(a.default,{id:"f3dffe0b34be508f",children:".bg-screentone{background-image:radial-gradient(#000 1px,#0000 1px);background-size:6px 6px}"}),R&&e.lesson&&(0,t.jsx)(T,{lesson:e.lesson,onClose:()=>r("intro")}),(0,t.jsx)("div",{style:{backgroundImage:`url(${F})`,backgroundColor:"#f3f4f6"},className:`jsx-f3dffe0b34be508f absolute inset-0 bg-cover bg-center transition-all duration-1000 ${o?"grayscale contrast-125 brightness-75":"grayscale-0"} ${d?"opacity-100":"opacity-0"}`,children:o&&(0,t.jsx)("div",{className:"jsx-f3dffe0b34be508f absolute inset-0 bg-screentone opacity-20 pointer-events-none"})}),(0,t.jsxs)("div",{className:`jsx-f3dffe0b34be508f absolute inset-0 z-10 flex justify-between items-end px-4 md:px-20 pb-0 pointer-events-none transition-all duration-500 ${o?"blur-sm opacity-50 grayscale":"blur-0 opacity-100"}`,children:[(0,t.jsx)("div",{style:{backgroundImage:`url(${k})`,backgroundColor:"transparent"},className:"jsx-f3dffe0b34be508f relative w-[45%] md:w-[30%] h-[90%] bg-contain bg-no-repeat bg-bottom transition-transform duration-700 transform translate-y-0"}),L&&(0,t.jsx)("div",{style:{backgroundImage:`url(${L})`,backgroundColor:"transparent"},className:"jsx-f3dffe0b34be508f relative w-[60%] md:w-[45%] h-[100%] bg-contain bg-no-repeat bg-bottom transition-all duration-500 animate-slide-up"})]}),(0,t.jsxs)("div",{className:"jsx-f3dffe0b34be508f absolute inset-0 z-30 flex flex-col justify-end",children:[I&&!Y&&(0,t.jsx)("div",{className:"jsx-f3dffe0b34be508f absolute inset-0 flex flex-col items-center justify-center bg-white/40  z-50 animate-in fade-in zoom-in duration-300",children:(0,t.jsx)("div",{className:"jsx-f3dffe0b34be508f flex flex-col gap-6 w-full max-w-2xl px-6",children:e.isEnding?(0,t.jsx)("button",{onClick:()=>E(!0),className:"jsx-f3dffe0b34be508f group relative w-full bg-black border-2 border-black py-6 px-10 text-center transition-all duration-200 hover:-translate-y-1 hover:shadow-[6px_6px_0px_#fff] shadow-[3px_3px_0px_#fff]",children:(0,t.jsxs)("div",{className:"jsx-f3dffe0b34be508f flex items-center justify-center gap-3 text-white",children:[(0,t.jsx)(b,{size:24}),(0,t.jsx)("span",{className:"jsx-f3dffe0b34be508f text-2xl font-bold font-serif uppercase tracking-widest",children:"View Lesson"})]})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{className:"jsx-f3dffe0b34be508f text-center font-bold font-serif text-2xl uppercase tracking-widest text-black bg-white px-4 py-2 border-2 border-black shadow-[4px_4px_0px_#000] mx-auto rotate-1",children:"Make Your Choice"}),e.choices.map(e=>(0,t.jsx)("button",{onClick:()=>{e?(n(e),C(!1),z(e.followUpText),M(e.nextSceneId)):r("intro")},className:"jsx-f3dffe0b34be508f group relative w-full bg-white border-2 border-black py-5 px-8 text-center transition-all duration-200 hover:-translate-y-1 hover:shadow-[6px_6px_0px_#000] shadow-[3px_3px_0px_#000]",children:(0,t.jsx)("span",{className:"jsx-f3dffe0b34be508f relative z-10 text-lg md:text-xl font-bold font-serif text-black group-hover:text-black",children:e.text})},e.id))]})})}),(0,t.jsxs)("div",{onClick:()=>{if(!i){if(S){_(Y||e.dialogueSequence[h].text),N(!1),!Y&&h>=e.dialogueSequence.length-1&&C(!0);return}if(!I||Y){if(Y&&A)return void r(A);h<e.dialogueSequence.length-1&&x(e=>e+1)}}},className:`jsx-f3dffe0b34be508f relative w-full border-t-4 border-black cursor-pointer min-h-[220px] md:min-h-[160px] pb-8 pt-10 px-6 md:px-20 flex flex-col justify-start transition-colors duration-300 ${o?"bg-black text-white":"bg-white text-black"}`,children:[(0,t.jsx)("div",{className:"jsx-f3dffe0b34be508f absolute inset-0 opacity-5 pointer-events-none bg-[url('https://www.transparenttextures.com/patterns/paper-fibers.png')]"}),(0,t.jsx)("div",{className:"jsx-f3dffe0b34be508f absolute -top-5 left-6 md:left-20 z-40",children:(0,t.jsx)("div",{className:`jsx-f3dffe0b34be508f px-6 py-2 border-2 border-black shadow-[4px_4px_0px_#000] flex items-center gap-3 -rotate-1 ${o?"bg-white text-black":"bg-black text-white"}`,children:(0,t.jsxs)("div",{className:"jsx-f3dffe0b34be508f font-bold tracking-widest text-sm md:text-base uppercase flex items-center gap-2 font-serif",children:[o?(0,t.jsx)(p,{size:16}):(0,t.jsx)(y,{size:16}),o?e.innerSource:H]})})}),O&&!o&&!e.isEnding&&(0,t.jsxs)("div",{className:"jsx-f3dffe0b34be508f absolute -top-16 right-6 md:right-20 z-50 flex flex-col items-end animate-bounce",children:[(0,t.jsx)("div",{className:"jsx-f3dffe0b34be508f bg-red-500 text-white text-xs font-bold px-3 py-1 mb-1 border-2 border-black shadow-[2px_2px_0px_#000]",children:"⚠ TRUTH DETECTED"}),(0,t.jsx)("div",{className:"jsx-f3dffe0b34be508f w-0 h-0 border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent border-t-[10px] border-t-red-500 mr-8"})]}),(0,t.jsx)("div",{className:"jsx-f3dffe0b34be508f absolute -top-4 right-6 md:right-20 z-40",children:(0,t.jsxs)("button",{disabled:!O,onClick:e=>{e.stopPropagation(),l(!o)},className:`jsx-f3dffe0b34be508f flex items-center gap-2 px-4 py-2 border-2 border-black shadow-[4px_4px_0px_#000] text-xs font-bold transition-all ${!O?"opacity-50 cursor-not-allowed bg-gray-300 text-gray-500":"hover:translate-y-[2px] hover:shadow-[2px_2px_0px_#000]"} bg-white text-black`,children:[o?(0,t.jsx)(u,{size:14}):(0,t.jsx)(f,{size:14})," ",o?"HIDE TRUTH":"REVEAL TRUTH"]})}),(0,t.jsx)("div",{className:"jsx-f3dffe0b34be508f relative z-10 w-full max-w-5xl mx-auto mt-2",children:(0,t.jsxs)("p",{className:`jsx-f3dffe0b34be508f text-xl md:text-3xl leading-relaxed font-serif tracking-wide ${o?"italic font-light":"font-medium"}`,children:[o?e.innerText:g,!o&&S&&(0,t.jsx)("span",{className:"jsx-f3dffe0b34be508f animate-pulse ml-1 inline-block w-3 h-6 bg-current align-middle"})]})}),!o&&!S&&!I&&(0,t.jsx)("div",{className:"jsx-f3dffe0b34be508f absolute bottom-6 right-10 animate-bounce",children:(0,t.jsx)(m,{fill:"currentColor",size:24,className:"transform rotate-90"})})]})]})]})};e.s(["default",0,()=>{let[e,a]=(0,s.useState)("intro"),[n,r]=(0,s.useState)({resilience:0,anxiety:0}),[i,o]=(0,s.useState)(!1),l=e=>{o(!0),setTimeout(()=>{a(e),setTimeout(()=>{o(!1)},100)},800)},d=S[e],c=d?.musicTrack||"default";return(0,t.jsxs)("div",{className:"font-sans antialiased text-gray-900 bg-white relative",children:[(0,t.jsx)(N,{trackKey:c}),"intro"!==e&&(0,t.jsxs)("div",{className:"fixed bottom-2 left-2 z-50 text-[10px] font-mono text-gray-400 opacity-50 pointer-events-none",children:["R:",n.resilience," A:",n.anxiety]}),"intro"===e?(0,t.jsx)(I,{onStart:()=>{l("act1_commute")},isExiting:i}):(0,t.jsx)(C,{scene:S[e]||S.act1_commute,onChoice:e=>{r({resilience:n.resilience+e.impact.resilience,anxiety:n.anxiety+e.impact.anxiety})},onSceneTransition:e=>{let t=e;"CALCULATE_ENDING"===e&&(t="ending_neutral",n.resilience>=3?t="ending_good":n.anxiety>4&&(t="ending_bad"),console.log(`Ending Calc: Res=${n.resilience}, Anx=${n.anxiety} -> ${t}`),r({resilience:0,anxiety:0})),l(t)},isTransitioning:i})]})}],31713)}]);